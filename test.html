<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <p>
      <span>test text</span>
      <span>test text</span>
      <span>test text</span>
    </p>
    <script>
      const para = document.querySelector('p')

      const reg = /<span>([\s\S]+?)<\/span>/gi

      // para.innerHTML = para.innerHTML.replace(
      //   reg,
      //   '<h4 style="color:red">' + '$1' + '</h4>'
      // )

      let match = reg.exec(para.innerHTML)
      const res = []
      while (match) {
        res.push(match)
        const lastIndex = res.lastIndex
        match = reg.exec(match, lastIndex)

        console.log(match)
      }

      // while (reg.exec(para.innerHTML)) {
      //   res.push(reg.exec(para.innerHTML))
      // }

      console.table(res)

      // console.log(reg.lastIndex)
      // reg.exec(para.innerHTML)
      // console.log(reg.lastIndex)
    </script>
  </body>
</html>
